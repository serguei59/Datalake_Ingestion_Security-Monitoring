{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the DataLake Ingestion Monitoring and Security Project","text":"<p>This project explores the concepts of security, ingestion, and monitoring in an Azure Data Lake environment. </p>"},{"location":"1_preliminary/preliminary-setup/","title":"Preliminary Step: Secure Configuration for Terraform with Azure Key Vault","text":""},{"location":"1_preliminary/preliminary-setup/#introduction","title":"Introduction","text":"<p>This preliminary step sets up a secure environment to allow Terraform to access sensitive information (like Subscription ID and Tenant ID) while ensuring isolation and proper secret management.</p>"},{"location":"1_preliminary/preliminary-setup/#objectives","title":"Objectives","text":"<ol> <li>Create an Azure Key Vault to secure sensitive information.</li> <li>Configure a secondary Service Principal (SP2) with limited permissions to access the Key Vault.</li> <li>Set up a Storage Account for the Terraform backend.</li> <li>Add necessary secrets to GitHub Secrets for CI/CD workflows.</li> </ol>"},{"location":"1_preliminary/preliminary-setup/#why-this-approach","title":"Why this Approach?","text":"<ul> <li>Enhanced Security: Secrets are stored securely in Azure Key Vault and not exposed in code or logs.</li> <li>Role Isolation: The secondary Service Principal has limited access to the Key Vault, reducing the impact of potential compromise.</li> <li>CI/CD Integration: Secrets are injected into GitHub Secrets, enabling Terraform workflows to run autonomously.</li> </ul>"},{"location":"1_preliminary/preliminary-setup/#technical-choices-and-justifications","title":"Technical Choices and Justifications","text":""},{"location":"1_preliminary/preliminary-setup/#1-azure-key-vault","title":"1. Azure Key Vault","text":"<ul> <li>Used to store sensitive information like <code>SubscriptionId</code> and <code>TenantId</code>.</li> <li>Benefits:</li> <li>Encryption at rest and in transit.</li> <li>Access logging through Azure Monitor.</li> <li>Automatic key rotation (optional).</li> </ul>"},{"location":"1_preliminary/preliminary-setup/#2-secondary-service-principal-sp2","title":"2. Secondary Service Principal (SP2)","text":"<ul> <li>Role: Key Vault Secrets User.</li> <li>Limited access to read secrets in the Key Vault.</li> </ul>"},{"location":"1_preliminary/preliminary-setup/#3-terraform-backend-azure-storage-account","title":"3. Terraform Backend (Azure Storage Account)","text":"<ul> <li>Centralizes and secures Terraform state to avoid conflicts during CI/CD workflow execution.</li> <li>Stores the state in a dedicated container within an isolated Storage Account.</li> </ul>"},{"location":"1_preliminary/preliminary-setup/#prerequisites","title":"Prerequisites","text":"<ol> <li>Azure CLI installed and configured.</li> <li>Azure CLI Documentation</li> <li>GitHub CLI installed to manage GitHub Secrets.</li> <li>GitHub CLI Documentation</li> <li>An Azure account with the following permissions:</li> <li>Create Azure resources (Key Vault, resource groups, etc.).</li> <li>Manage Azure identities (Service Principals).</li> <li>A GitHub repository set up for the project.</li> </ol>"},{"location":"1_preliminary/preliminary-setup/#step-by-step-instructions","title":"Step-by-Step Instructions","text":""},{"location":"1_preliminary/preliminary-setup/#1-download-the-bash-script","title":"1. Download the Bash Script","text":"<p>A Bash script is provided to automate the setup process. Download it from the GitHub repository:</p> <p>https://github.com/serguei59/Datalake_Ingestion_Security-Monitoring/blob/main/src/set_up_preliminary_environment.sh</p>"},{"location":"1_preliminary/preliminary-setup/#2-run-the-script","title":"2. Run the Script","text":""},{"location":"1_preliminary/preliminary-setup/#make-the-script-executable","title":"Make the script executable","text":"<pre><code>chmod +x setup_preliminary_environment.sh\n</code></pre>"},{"location":"1_preliminary/preliminary-setup/#execute-the-script","title":"Execute the script","text":"<pre><code>./setup_preliminary_environment.sh\n</code></pre>"},{"location":"1_preliminary/preliminary-setup/#3-what-the-script-does","title":"3. What the Script does","text":"<p>The script retrieves the following</p>"},{"location":"1_preliminary/preliminary-setup/#subscription-id","title":"Subscription ID","text":""},{"location":"1_preliminary/preliminary-setup/#tenant-id","title":"Tenant ID","text":""},{"location":"1_preliminary/preliminary-setup/#create-resource-groups","title":"Create Resource Groups","text":"<p>3 resource_groups are created: RG_Security, RG_Terraform, RG_Projet</p>"},{"location":"1_preliminary/preliminary-setup/#set-up-azure-key-vault","title":"Set up Azure Key Vault","text":"<p>Creation and store secrets in Key Vault</p>"},{"location":"1_preliminary/preliminary-setup/#configure-terraform-back-end","title":"Configure Terraform Back end","text":"<p>Create a Storage Account and a Container for the State</p>"},{"location":"1_preliminary/preliminary-setup/#create-or-regenerate-the-secondary-service-principal-sp2","title":"Create or Regenerate the Secondary Service Principal (SP2)","text":"<p>Create SP2 if not exists, regenerate credentials </p>"},{"location":"1_preliminary/preliminary-setup/#add-secrets-to-github","title":"Add secrets to GitHub","text":""},{"location":"1_preliminary/preliminary-setup/#post-execution-checks","title":"Post-Execution Checks","text":""},{"location":"1_preliminary/preliminary-setup/#1-azure-key-vault_1","title":"1. Azure Key Vault","text":"<p>Verify the Subscription_Id and TenantId are stored: <pre><code>az keyvault secret list --vault-name secureKeyVault\n</code></pre></p>"},{"location":"1_preliminary/preliminary-setup/#2-service-principal-sp2","title":"2. Service Principal (SP2)","text":"<p>Verify SP2 exists: <pre><code>az ad sp list --dipslay-name keyvault-access-sp\n</code></pre></p>"},{"location":"1_preliminary/preliminary-setup/#3-githhub-secrets","title":"3. GithHub Secrets","text":""},{"location":"1_preliminary/preliminary-setup/#steps-to-verify-github-secrets","title":"Steps to Verify GitHub Secrets","text":"<ol> <li>Navigate to the Secrets Management Page</li> <li>Open your GitHub repository.</li> <li>Go to Settings &gt; Secrets and Variables &gt; Actions.</li> </ol>"},{"location":"1_preliminary/preliminary-setup/#navigate-to-secrets","title":"Navigate to Secrets","text":"<ol> <li>Ensure the Following Secrets are Present:</li> </ol> Secret Name Description <code>SP2_CLIENT_ID</code> The client ID of the secondary Service Principal. <code>SP2_CLIENT_SECRET</code> The client secret of the secondary Service Principal. <code>TENANT_ID</code> The tenant ID of your Azure account. <code>KEYVAULT_NAME</code> The name of the Azure Key Vault."},{"location":"1_preliminary/preliminary-setup/#example","title":"Example","text":"<p>Here\u2019s an example of what the secrets should look like in your repository:</p> <ul> <li>SP2_CLIENT_ID: <code>12345678-90ab-cdef-1234-567890abcdef</code></li> <li>SP2_CLIENT_SECRET: <code>abcdefghijklmnopqrstuvwxyz1234567890</code></li> <li>TENANT_ID: <code>12345678-90ab-cdef-1234-567890abcdef</code></li> <li>KEYVAULT_NAME: <code>mysecurekeyvault</code></li> </ul>"},{"location":"1_preliminary/preliminary-setup/#common-issues-and-troubleshooting","title":"Common Issues and Troubleshooting","text":""},{"location":"1_preliminary/preliminary-setup/#1-secrets-not-found","title":"1. Secrets Not Found","text":"<ul> <li>If a secret is missing, ensure that the preliminary setup script was executed successfully: <pre><code>   ./setup_preliminary_environment.sh\n</code></pre></li> </ul>"},{"location":"1_preliminary/preliminary-setup/#2-incorrect-secret-values","title":"2. Incorrect Secret Values","text":"<ul> <li>You can update secrets manually using the GitHub CLI:  <pre><code>gh secret set SP2_CLIENT_ID --repo &lt;username/repository&gt; -b \"&lt;correct_value&gt;\"\n</code></pre></li> </ul>"},{"location":"1_preliminary/preliminary-setup/#useful-links","title":"Useful Links","text":"<ul> <li>GitHub Secrets Documentation</li> <li>Azure CLI Documentation</li> </ul>"},{"location":"1_preliminary/security_methods/","title":"M\u00e9thodes de S\u00e9curit\u00e9 pour Azure Data Lake","text":""},{"location":"1_preliminary/security_methods/#introduction","title":"Introduction","text":"<p>Ce document pr\u00e9sente les principales m\u00e9thodes de s\u00e9curit\u00e9 disponibles pour prot\u00e9ger un Azure Data Lake Storage Gen2. Ces m\u00e9thodes incluent l'utilisation des Storage Access Keys, des Shared Access Signatures (SAS Tokens), de Microsoft Entra ID (anciennement Azure Active Directory), de Azure Key Vault, et du Role-Based Access Control (RBAC).</p> <p>L'objectif est de comprendre chaque m\u00e9thode, ses avantages, ses limitations et ses cas d'utilisation pour garantir une architecture s\u00e9curis\u00e9e et robuste.</p>"},{"location":"1_preliminary/security_methods/#1-storage-access-keys-cles-dacces-au-stockage","title":"1. Storage Access Keys (Cl\u00e9s d'Acc\u00e8s au Stockage)","text":""},{"location":"1_preliminary/security_methods/#description","title":"Description","text":"<p>Chaque compte de stockage Azure poss\u00e8de deux cl\u00e9s d'acc\u00e8s, appel\u00e9es Storage Access Keys, qui permettent un acc\u00e8s complet aux ressources du compte. Elles servent \u00e0 autoriser l'acc\u00e8s \u00e0 ces ressources via l'authentification par cl\u00e9 partag\u00e9e.</p>"},{"location":"1_preliminary/security_methods/#avantages","title":"Avantages","text":"<ul> <li>Acc\u00e8s simple et direct \u00e0 toutes les ressources du compte.</li> <li>Facilit\u00e9 d'utilisation pour des scripts simples ou des tests rapides.</li> </ul>"},{"location":"1_preliminary/security_methods/#limitations","title":"Limitations","text":"<ul> <li>Risque \u00e9lev\u00e9 en cas de compromission, car elles offrent un acc\u00e8s total aux ressources.</li> <li>Gestion manuelle n\u00e9cessaire pour la rotation des cl\u00e9s.</li> <li>Pas de granularit\u00e9 des permissions.</li> </ul>"},{"location":"1_preliminary/security_methods/#cas-dutilisation","title":"Cas d'Utilisation","text":"<ul> <li>Sc\u00e9narios de d\u00e9veloppement ou de test o\u00f9 la s\u00e9curit\u00e9 n'est pas la priorit\u00e9 principale.</li> <li>Automatisation basique n\u00e9cessitant un acc\u00e8s complet au compte de stockage.</li> </ul>"},{"location":"1_preliminary/security_methods/#documentation-officielle","title":"Documentation Officielle","text":"<ul> <li>G\u00e9rer les cl\u00e9s d'acc\u00e8s au compte - Azure Storage</li> </ul>"},{"location":"1_preliminary/security_methods/#2-shared-access-signatures-sas-tokens","title":"2. Shared Access Signatures (SAS Tokens)","text":""},{"location":"1_preliminary/security_methods/#description_1","title":"Description","text":"<p>Les Shared Access Signatures (SAS) sont des jetons qui d\u00e9l\u00e8guent un acc\u00e8s limit\u00e9 et contr\u00f4l\u00e9 \u00e0 des ressources sp\u00e9cifiques d'un compte de stockage pour une dur\u00e9e d\u00e9termin\u00e9e. Ils sont g\u00e9n\u00e9r\u00e9s \u00e0 l'aide des User Delegation Keys ou des Storage Access Keys.</p>"},{"location":"1_preliminary/security_methods/#avantages_1","title":"Avantages","text":"<ul> <li>Contr\u00f4le granulaire sur les ressources accessibles et les permissions (lecture, \u00e9criture, suppression).</li> <li>Limitation temporelle, ce qui r\u00e9duit l'exposition potentielle en cas de fuite.</li> </ul>"},{"location":"1_preliminary/security_methods/#limitations_1","title":"Limitations","text":"<ul> <li>Risque si un SAS Token est expos\u00e9, car il peut \u00eatre utilis\u00e9 tant qu'il est valide.</li> <li>N\u00e9cessit\u00e9 de g\u00e9rer soigneusement la distribution et la r\u00e9vocation des SAS.</li> </ul>"},{"location":"1_preliminary/security_methods/#cas-dutilisation_1","title":"Cas d'Utilisation","text":"<ul> <li>Partage temporaire de fichiers avec des utilisateurs externes.</li> <li>Applications ou services n\u00e9cessitant un acc\u00e8s limit\u00e9 aux ressources du Data Lake.</li> </ul>"},{"location":"1_preliminary/security_methods/#documentation-officielle_1","title":"Documentation Officielle","text":"<ul> <li>Accorder un acc\u00e8s limit\u00e9 aux donn\u00e9es avec des signatures d\u2019acc\u00e8s partag\u00e9 (SAS)</li> </ul>"},{"location":"1_preliminary/security_methods/#3-microsoft-entra-id-anciennement-azure-active-directory","title":"3. Microsoft Entra ID (anciennement Azure Active Directory)","text":""},{"location":"1_preliminary/security_methods/#description_2","title":"Description","text":"<p>Microsoft Entra ID est une solution de gestion des identit\u00e9s et des acc\u00e8s bas\u00e9e sur le cloud. Elle permet d'authentifier et d'autoriser les utilisateurs et les applications via des identit\u00e9s s\u00e9curis\u00e9es.</p>"},{"location":"1_preliminary/security_methods/#avantages_2","title":"Avantages","text":"<ul> <li>Gestion centralis\u00e9e des identit\u00e9s et des acc\u00e8s.</li> <li>Int\u00e9gration avec des politiques d'acc\u00e8s bas\u00e9es sur les r\u00f4les (RBAC).</li> <li>S\u00e9curit\u00e9 accrue gr\u00e2ce \u00e0 l'utilisation de certificats et d'authentifications modernes.</li> </ul>"},{"location":"1_preliminary/security_methods/#limitations_2","title":"Limitations","text":"<ul> <li>Peut n\u00e9cessiter une configuration initiale complexe.</li> <li>D\u00e9pendance \u00e0 la disponibilit\u00e9 des services Microsoft Entra ID.</li> </ul>"},{"location":"1_preliminary/security_methods/#cas-dutilisation_2","title":"Cas d'Utilisation","text":"<ul> <li>Gestion des acc\u00e8s des employ\u00e9s, partenaires ou applications aux ressources Azure.</li> <li>Sc\u00e9narios n\u00e9cessitant une gestion fine des permissions et des authentifications.</li> </ul>"},{"location":"1_preliminary/security_methods/#documentation-officielle_2","title":"Documentation Officielle","text":"<ul> <li>Documentation de Microsoft Entra ID</li> <li>Prise en main de Microsoft Entra ID</li> </ul>"},{"location":"1_preliminary/security_methods/#4-azure-key-vault","title":"4. Azure Key Vault","text":""},{"location":"1_preliminary/security_methods/#description_3","title":"Description","text":"<p>Azure Key Vault est un service de gestion des secrets, des cl\u00e9s de chiffrement et des certificats. Il offre un stockage s\u00e9curis\u00e9 et un contr\u00f4le d'acc\u00e8s granulaire pour les informations sensibles.</p>"},{"location":"1_preliminary/security_methods/#avantages_3","title":"Avantages","text":"<ul> <li>S\u00e9curisation centralis\u00e9e des secrets et des cl\u00e9s.</li> <li>Rotation automatique des secrets pour une meilleure gestion des cycles de vie.</li> <li>Journalisation compl\u00e8te des acc\u00e8s pour des audits et un suivi.</li> </ul>"},{"location":"1_preliminary/security_methods/#limitations_3","title":"Limitations","text":"<ul> <li>Co\u00fbt suppl\u00e9mentaire pour l'utilisation du service.</li> <li>N\u00e9cessite une gestion minutieuse des permissions pour \u00e9viter les acc\u00e8s non autoris\u00e9s.</li> </ul>"},{"location":"1_preliminary/security_methods/#cas-dutilisation_3","title":"Cas d'Utilisation","text":"<ul> <li>Stockage des secrets tels que les mots de passe des applications ou les cl\u00e9s d'API.</li> <li>Gestion des cl\u00e9s de chiffrement utilis\u00e9es pour s\u00e9curiser les donn\u00e9es dans un Data Lake.</li> </ul>"},{"location":"1_preliminary/security_methods/#documentation-officielle_3","title":"Documentation Officielle","text":"<ul> <li>Pr\u00e9sentation d'Azure Key Vault</li> <li>Tutoriel : Stocker et r\u00e9cup\u00e9rer un secret avec Key Vault</li> </ul>"},{"location":"1_preliminary/security_methods/#5-role-based-access-control-rbac","title":"5. Role-Based Access Control (RBAC)","text":""},{"location":"1_preliminary/security_methods/#description_4","title":"Description","text":"<p>Le Role-Based Access Control (RBAC) permet d'attribuer des r\u00f4les sp\u00e9cifiques aux utilisateurs, groupes ou applications. Ces r\u00f4les d\u00e9finissent les actions autoris\u00e9es sur les ressources Azure.</p>"},{"location":"1_preliminary/security_methods/#avantages_4","title":"Avantages","text":"<ul> <li>Contr\u00f4le pr\u00e9cis des permissions, favorisant le principe du moindre privil\u00e8ge.</li> <li>Gestion centralis\u00e9e et \u00e9volutive des acc\u00e8s.</li> <li>Support pour des r\u00f4les int\u00e9gr\u00e9s ou personnalis\u00e9s adapt\u00e9s aux besoins sp\u00e9cifiques.</li> </ul>"},{"location":"1_preliminary/security_methods/#limitations_4","title":"Limitations","text":"<ul> <li>Complexit\u00e9 accrue dans les sc\u00e9narios n\u00e9cessitant de nombreux r\u00f4les personnalis\u00e9s.</li> <li>N\u00e9cessite une surveillance continue pour garantir l'ad\u00e9quation des permissions avec les besoins.</li> </ul>"},{"location":"1_preliminary/security_methods/#cas-dutilisation_4","title":"Cas d'Utilisation","text":"<ul> <li>Contr\u00f4le d'acc\u00e8s aux conteneurs ou aux dossiers sp\u00e9cifiques dans un Data Lake.</li> <li>Gestion des acc\u00e8s pour des \u00e9quipes ou des d\u00e9partements distincts au sein d'une organisation.</li> </ul>"},{"location":"1_preliminary/security_methods/#documentation-officielle_4","title":"Documentation Officielle","text":"<ul> <li>Qu'est-ce que le contr\u00f4le d'acc\u00e8s bas\u00e9 sur un r\u00f4le (RBAC) ?</li> <li>Attribuer un r\u00f4le Azure \u00e0 un utilisateur ou un groupe</li> </ul>"},{"location":"1_preliminary/security_methods/#security-methods-for-azure-data-lake","title":"Security Methods for Azure Data Lake","text":""},{"location":"1_preliminary/security_methods/#overview","title":"Overview","text":"<p>This document provides an overview of the primary security methods available to protect an Azure Data Lake Storage Gen2. These include Storage Access Keys, Shared Access Signatures (SAS Tokens), Microsoft Entra ID, Azure Key Vault, and Role-Based Access Control (RBAC).</p> <p>The goal is to understand each method, its advantages, limitations, and use cases to ensure a secure and robust architecture.</p>"},{"location":"1_preliminary/security_methods/#comparative-table-english","title":"Comparative Table (English)","text":"Method Advantages Limitations Use Cases Storage Access Keys Simple and direct access to all resources. High risk if compromised, no granular permissions. Development or testing scenarios. SAS Tokens Granular control and limited time exposure. Requires careful management and potential exposure. Temporary file sharing, external application access. Microsoft Entra ID Centralized identity and access management. May require complex initial setup. Employee or partner access management. Azure Key Vault Secure centralized storage of secrets and keys. Additional cost, requires careful permission control. Storing sensitive app credentials, encryption keys. RBAC Fine-grained control of permissions, scalable management. Increased complexity with many custom roles. Multi-team access control, principle of least privilege."},{"location":"1_preliminary/security_methods/#conclusion","title":"Conclusion","text":"<p>By combining these security methods, you can establish a robust architecture tailored to the specific requirements of your organization while ensuring data safety and compliance with operational needs.</p> M\u00e9thode / Method Documentation (FR) Documentation (EN) Storage Access Keys G\u00e9rer les cl\u00e9s d'acc\u00e8s Manage account keys Shared Access Signatures (SAS) Acc\u00e8s avec SAS Grant access with SAS Microsoft Entra ID Pr\u00e9sentation Entra ID Entra ID Overview Azure Key Vault Pr\u00e9sentation Key Vault Key Vault Overview Role-Based Access Control Contr\u00f4le d'acc\u00e8s (RBAC) Role-Based Access Control Overview"}]}